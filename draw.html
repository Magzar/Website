<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Magzar | Drawing</title>
  <link rel="stylesheet" href="serverstyles.css">
</head>
<body>
  <header>
  <h1><a href="index.html">Magzar</a></h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="scr.html">SCR</a>
      <a href="csa.html">CSA</a>
    </nav>
  </header>

    <canvas id="draw" width="500" height="400" style="border:1px solid #00ffaa;"></canvas>
    <br>
    <button id="penBtn">Pen</button>
    <button id="eraserBtn">Eraser</button>
    <button id="saveBtn">Save Drawing</button>

    <script>
        const canvas = document.getElementById('draw');
        const ctx = canvas.getContext('2d');

        ctx.lineWidth = 4;
        ctx.lineCap = 'round';

        let drawing = false;
        let lastX = 0;
        let lastY = 0;
        let mode = 'pen'; // 'pen' or 'eraser'

        // Pen & Eraser buttons
        document.getElementById('penBtn').addEventListener('click', () => mode = 'pen');
        document.getElementById('eraserBtn').addEventListener('click', () => mode = 'eraser');

        canvas.addEventListener('mousedown', e => {
        drawing = true;
        [lastX, lastY] = [e.offsetX, e.offsetY];
        });

        canvas.addEventListener('mouseup', () => drawing = false);
        canvas.addEventListener('mouseout', () => drawing = false);

        canvas.addEventListener('mousemove', e => {
        if (!drawing) return;

        ctx.beginPath();
        ctx.moveTo(lastX, lastY);
        ctx.lineTo(e.offsetX, e.offsetY);
        
        if(mode === 'pen') {
            ctx.strokeStyle = '#00ffaa'; // neon pen color
        } else {
            ctx.strokeStyle = '#111'; // background color = eraser
        }

        ctx.stroke();
        [lastX, lastY] = [e.offsetX, e.offsetY];
        });

        // Save drawing
        document.getElementById('saveBtn').addEventListener('click', () => {
        const link = document.createElement('a');
        link.download = 'drawing.png';
        link.href = canvas.toDataURL();
        link.click();
        });
    </script>


  <footer>
    <p>2025 - All rights reserved!</p>
  </footer>
</body>
</html>