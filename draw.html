<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Magzar | Drawing</title>
  <link rel="stylesheet" href="serverstyles.css">
</head>
<body>
  <header>
  <h1><a href="index.html">Magzar</a></h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="scr.html">SCR</a>
      <a href="csa.html">CSA</a>
    </nav>
  </header>

    <canvas id="draw"></canvas>
    <br>
    <button id="penBtn">Pen</button>
    <button id="eraserBtn">Eraser</button>
    <button id="saveBtn">Save Drawing</button>
    <h3>Gallery:</h3>
    <div id="gallery">
    <img src="drawings/drawing1.png" alt="A House!" />
    </div>


    <script>
        const canvas = document.getElementById('draw');
        const ctx = canvas.getContext('2d');

        ctx.lineCap = 'round';

        let drawing = false;
        let lastX = 0;
        let lastY = 0;
        let mode = 'pen'; // 'pen' or 'eraser'

        // Pen & Eraser buttons
        document.getElementById('penBtn').addEventListener('click', () => mode = 'pen');
        document.getElementById('eraserBtn').addEventListener('click', () => mode = 'eraser');

        // Resize canvas to match CSS width & fixed height
        function resizeCanvas() {
        canvas.width = canvas.clientWidth;
        canvas.height = 500; // fixed height
        ctx.fillStyle = '#161b22'; // background color
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        }

        // Initial resize
        resizeCanvas();

        // Optional: resize on window change
        window.addEventListener('resize', resizeCanvas);

        // Drawing
        canvas.addEventListener('mousedown', e => {
        drawing = true;
        [lastX, lastY] = [e.offsetX, e.offsetY];
        });

        canvas.addEventListener('mouseup', () => drawing = false);
        canvas.addEventListener('mouseout', () => drawing = false);

        canvas.addEventListener('mousemove', e => {
        if (!drawing) return;

        ctx.beginPath();
        ctx.moveTo(lastX, lastY);
        ctx.lineTo(e.offsetX, e.offsetY);

        if(mode === 'pen') {
            ctx.strokeStyle = '#00ffaa'; // neon pen
            ctx.lineWidth = 4;
        } else {
            ctx.strokeStyle = '#161b22'; // erase to background
            ctx.lineWidth = 20;
        }

        ctx.stroke();
        [lastX, lastY] = [e.offsetX, e.offsetY];
        });

        // Save drawing
        document.getElementById('saveBtn').addEventListener('click', () => {
        const link = document.createElement('a');
        link.download = 'drawing.png';
        link.href = canvas.toDataURL();
        link.click();
        });
    </script>




  <footer>
    <p>2025 - All rights reserved!</p>
  </footer>
</body>
</html>