<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Magzar | R282</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
  <h1><a href="index.html">Magzar</a></h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="scr.html">SCR</a>
      <a href="csa.html">CSA</a>
    </nav>
  </header>

<canvas id="ballCanvas" width="800" height="400"></canvas>
<script>
    const canvas = document.getElementById('ballCanvas');
    const ctx = canvas.getContext('2d');

    // Make canvas fill the window
    function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    }
    resizeCanvas();
    window.addEventListener('resize', resizeCanvas);

    // Ball properties
    let x = 50;
    let y = 50;
    let radius = 100;
    let vx = 4;
    let vy = 0;
    let gravity = 0.3;
    let bounce = -0.5;

    // Dragging
    let isDragging = false;
    let offsetX, offsetY;
    let prevMouseX, prevMouseY;

    canvas.addEventListener('mousedown', (e) => {
    const rect = canvas.getBoundingClientRect();
    const mouseX = e.clientX - rect.left;
    const mouseY = e.clientY - rect.top;

    const dx = mouseX - x;
    const dy = mouseY - y;
    if (dx*dx + dy*dy <= radius*radius) {
        isDragging = true;
        offsetX = dx;
        offsetY = dy;
        prevMouseX = mouseX;
        prevMouseY = mouseY;
        vx = 0;
        vy = 0;
    }
      // something
    });

    // Listen on the whole document to avoid letting go when leaving canvas
    document.addEventListener('mousemove', (e) => {
    if (isDragging) {
        const rect = canvas.getBoundingClientRect();
        const mouseX = e.clientX - rect.left;
        const mouseY = e.clientY - rect.top;

        // Calculate velocity based on mouse movement
        vx = mouseX - prevMouseX;
        vy = mouseY - prevMouseY;

        x = mouseX - offsetX;
        y = mouseY - offsetY;

        prevMouseX = mouseX;
        prevMouseY = mouseY;
    }
    });

    document.addEventListener('mouseup', () => {
    if (isDragging) {
        isDragging = false;
    }
    });

    function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.beginPath();
    ctx.arc(x, y, radius, 0, Math.PI*2);
    ctx.fillStyle = "red";
    ctx.fill();
    ctx.closePath();

    // Draw text centered
    ctx.fillStyle = "#fff"; // text color
    ctx.font = "20px Arial";
    ctx.textAlign = "center";
    ctx.textBaseline = "middle";
    ctx.fillText("The Elite Ball", x, y); // text on the ball
    }

    function update() {
    if (!isDragging) { // Only update physics when not dragging
        x += vx;
        vy += gravity;
        y += vy;

        // Bounce off floor
        if (y + radius > canvas.height) {
        y = canvas.height - radius;
        vy *= bounce;
        }

        // Bounce off ceiling
        if (y - radius < 0) {
        y = radius;
        vy *= bounce;
        }

        // Bounce off walls
        if (x + radius > canvas.width) {
        x = canvas.width - radius;
        vx *= -1;
        }
        if (x - radius < 0) {
        x = radius;
        vx *= -1;
        }
    }
    }

    function loop() {
    draw();
    update();
    requestAnimationFrame(loop);
    }

    loop();
</script>


  <main>
    <section class="intro">
      <h>Someone stole my loco, I need a new loco please help. Elite ball knowledge.</h>
    </section>
  </main>

  <footer>
    <p>2025 - All rights reserved!</p>
  </footer>
</body>
</html>
